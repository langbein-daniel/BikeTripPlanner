#
# General
# =======
#

NAME=journey-planner
BUILD_NAME=build

# Generated with https://boundingbox.klokantech.com/
# by surrounding the whole country and selecting
# "Copy & Paste CSV" -> 18.77,59.32,32.0,70.27
MIN_LON=18.77
MAX_LON=32.0
MIN_LAT=59.32
MAX_LAT=70.27

# This value is smaller than for the VGN region
# as Finland is larger in size and we want to allow users
# to zoom further out of the map.
# https://www.openstreetmap.org/#map=5/63.879/17.183
MIN_ZOOM=5
TIMEZONE=Europe/Berlin

# License (CC 4.0 BY) and additional information:
#   https://developer.matka.fi/pages/en/home.php
#
#GTFS_URL=https://traffic.navici.com/tiedostot/gtfs.zip
# Certificate error when building the Dockerfile:
#   #7 https://traffic.navici.com/tiedostot/gtfs.zip
#   #7 ERROR: Get "https://traffic.navici.com/tiedostot/gtfs.zip": tls: failed to verify certificate: x509: certificate signed by unknown authority
#   ------
#    > https://traffic.navici.com/tiedostot/gtfs.zip:
#   ------
#   failed to solve: failed to load cache key: Get "https://traffic.navici.com/tiedostot/gtfs.zip": tls: failed to verify certificate: x509: certificate signed by unknown authority
#
# Alternative download URL works.
GTFS_URL=https://koontikartta.navici.com/tiedostot/gtfs.zip
GTFS_MODIFICATION_PARAM='--bikes-allowed True'
OSM_PBF_URL=https://download.geofabrik.de/europe/finland-latest.osm.pbf

DOCKER_REGISTRY_URL=docker.io/biketripplanner/
DOCKER_IMAGE_TAG=finnland

#
# Healthcheck
# ===========
#

HEALTHCHECK_OPENTRIPPLANNER='Helsingin seudun liikenne'

# The GTFS data set includes a train stop named "Helsinki".
HEALTHCHECK_API_REQUEST=localhost:4000/v1/search?text=Helsinki&lang=en&layers=stop,station
HEALTHCHECK_API_RESPONSE='"name":"Helsinki"'

# https://www.openstreetmap.org/search?whereami=1&query=60.17275%2C24.94447#map=18/60.17275/24.94447
# Itäinen Teatterikuja 5, Helsinki, Finland
#
# printf %s 'Itäinen 5, Helsinki, Finland' | jq -sRr @uri
HEALTHCHECK_LIBPOSTAL_REQUEST=localhost:4400/parse?address=It%C3%A4inen%205%2C%20Helsinki%2C%20Finland
HEALTHCHECK_LIBPOSTAL_RESPONSE='"label":"city","value":"helsinki"'

HEALTHCHECK_PLACEHOLDER_REQUEST=localhost:4100/parser/search?text=helsinki
HEALTHCHECK_PLACEHOLDER_RESPONSE='"name":"Helsinki"'

# https://www.openstreetmap.org/way/17123583#map=18/60.20561/24.96155
# Kumpula Sportcenter, Väinö Auerin katu 11
HEALTHCHECK_INTERPOLATION_REQUEST=localhost:4300/search/geojson?lat=60.20561&lon=24.96155&street=V%C3%A4in%C3%B6%20Auerin%20katu&number=11
HEALTHCHECK_INTERPOLATION_RESPONSE='"type":"exact"'

HEALTHCHECK_PIP_REQUEST=localhost:4200/24.94447/60.17275
HEALTHCHECK_PIP_RESPONSE=Helsinki

#
# Tileserver GL
# =============
#

MAP_STYLE_URL=https://github.com/langbein-daniel/cyclo-bright-gl-style.git

#
# OpenTripPlanner
# ===============
#

JAVA_BUILD_OPTS=-Xmx10G
JAVA_OPTS=-Xmx20G

#
# Pelias
# ======
#

COUNTRY_CODE=FI
WOF_IDS=["85633143"]
PELIAS_BUILD_DIR=./pelias

#
# Digitransit-UI
# ==============
#

OTP_TIMEOUT=30000

#
# Docker image versions
# =====================
#

DOCKERFILE_DIGITRANSIT_UI=github.com/langbein-daniel/digitransit-ui
DOCKERFILE_PELIAS_GTFS=https://github.com/HSLdevcom/pelias-gtfs

IMAGE_TILESERVER_GL=maptiler/tileserver-gl
IMAGE_OPENTRIPPLANNER=opentripplanner/opentripplanner:latest
IMAGE_PELIAS_OPENSTREETMAP=pelias/openstreetmap:master
IMAGE_PELIAS_POLYLINES=pelias/polylines:master
IMAGE_PELIAS_WHOSONFIRST=pelias/whosonfirst:master
IMAGE_PELIAS_SCHEMA=pelias/schema:master
IMAGE_PELIAS_LIBPOSTAL=pelias/libpostal-service
IMAGE_PELIAS_API=pelias/api:master
IMAGE_PELIAS_PLACEHOLDER=pelias/placeholder:master
IMAGE_PELIAS_INTERPOLATION=pelias/interpolation:master
IMAGE_PELIAS_PIP=pelias/pip-service:master
IMAGE_PELIAS_ELASTICSEARCH=pelias/elasticsearch:7.16.1
